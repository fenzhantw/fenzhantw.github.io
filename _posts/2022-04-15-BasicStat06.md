---
title: "[기초 통계] 06 가설검증, 오류"
excerpt: "가설검증, 오류 "
categories:
    - BasicStat

tag:
    - 기초 통계

author_profile: true    #작성자 프로필 출력 여부

toc: true   #Table Of Contents 목차 
toc_sticky: true
---

```
오류나 틀린 부분이 있을 경우 언제든지 댓글 혹은 메일로 남겨주세요 😄
```
통계 기초와 적용 - 06 가설검증, 오류

## 가설 검정

- 가설이란 무엇인가? 가설은 모집단에 대한 진술을 의미함. 우리는 보통 모집단이 너무 크기 때문에 전수조사를 하지 않고, 표본의 통계값으로 모집단이 모집단의 진술을 지지하는지 검정함

- 그럼 가설을 어떻게 검증할까? 내가 연구하고자 하는 모든 집단을 전수조사 한다면 시간과 돈이 기하급수적으로 들것임.
- 따라서 앞에서 언급한 표본분포와 신뢰구간 그리고 추정을 이용함
- 똑같은 예시인데, 하버드 입학생의 SAT 평균성적이 500점인지에 대한 가설을 검증하고 싶다고 하자. 그렇다면, 100명의 하버드 학생에게 SAT 성적을 조사하여 평균을 냈을 때, 350점이 나온다면 아마 가설을 기각해야 할 것이다. 그럼 510점이 나왔으면 최초에 세운 가설을 기각해야 할까? 아니면 채택해야 할까? 
- 이는 연구자가 세운 유의수준 (앞 추정에 나오는 α level)에 따라 채택이 기각되거나 채택될 수 있다. 

그럼 가설 검정이 어떻게 이루어 지는지 확인해보자. 

## 가설 검정 STEP

- 1단계 :  귀무가설(H0)과 대립가설(Ha)의 설정

  - 일반적으로 검증하는 가설을 귀무가설이라고 하고, 귀무가설과 반대되는 가설을 대립가설이라고 함. 대립가설은 연구자가 연구를 통해 입증되기를 기대하는 내용임.

  - 이렇게 가설을 세우고 접근하는 이유는, 일반적으로 표본에서 추출한 통계값은 가설로 설정된 모집단의 parameter와 값이 다르기 때문에 이러한 차이가 Sampling error에서 부터 온 것인지 밝혀야 함

    예)  하버드 학생의 수학 SAT 점수는 300점이 아닐 것이다.

    H0 = 300, Ha != 300

- 2단계 :  유의 수준의 선택

  - α level을 선택하는 것이다. 5%, 1%에서 보통 선택
  - 하버드 학생 평균 SAT 점수를 100명 추출하여, 이 점수가 306점이었고, 가설검정을 위해 유의수준을 5%로 결정

- 3단계 : 검정 통계량 계산

  - 모집단의 표준편차가 알려져 있는 경우에는 Z 검정을 사용

  - 모집단의 평균이 300점 표준편차가 20이라고 했을때, 이 300점과 306점의 차이 6점이 통계적으로 유의미한 차이인지 계산해야 함.

    ![image](https://user-images.githubusercontent.com/81638919/163662887-7266a571-2228-48c9-863e-95e24162dd5f.png)

  - 이제 모두다 아는것 처럼, Z-score로 표준화한 값에서는 평균에서 +-1.96 떨어진 곳이 전체의 95%라고 하였다. 앞에서 유의 수준을 5%로 설정하였기 때문에 위에서 계산한 Z-score는 1.96보다 커서 기각역(평균으로 부터 95% 이외의 곳)에 속하는 것을 확인할 수 있음

    ![image](https://user-images.githubusercontent.com/81638919/163662893-743b9e8b-da64-48bd-b905-b9770b92430f.png)


- 4단계: 결론

  - 5%의 유의수준에서 Z critical value는 1.96, 1.96 <3 
  - 306점은 기각역에 속하므로 306점과 300점의 차이는 sampling error때문이 아니라 두 평균 점수의 유의미한 차이가 있기 때문임. 
  - 따라서 귀무가설은 기각됨 (H0 = 300, Ha != 300)

## 신뢰구간

- 표본평균을 뽑았을 때, u에 대한 신뢰구간을 구해도 똑같은 결과가 나올 것이다.

  ![image](https://user-images.githubusercontent.com/81638919/163662899-3fc61265-d00b-427f-879b-95205113865a.png)

- 306-1.96 * 2 <u <306+1.96 * 2 = [302.08,309.92] 5% 유의수준에서 모집단의 평균은 다음 구간내 존재할 것임. 모집단의 평균 300은 이 구간에 포함되어 있지 않다. 따라서 귀무가설은 기각

## 단측검증 / 양측 검증(Two-tailed test)

- 위에서 진행한 예시에서는 양측검증(Two-tailed test)를 진행하였음.

- 그럼 단측검증은 무엇인가? 가설이 "크다, 작다"와 같이 방향이 정해져 있는 것을 단측검증이라고 할 수 있음

  - 예를 들어, 하버드 학생의 평균키는 175cm보다 크다(H0=175,Ha>175)라고 가설을 세워서 단측검증을 진행하는 경우가 있을 수도 있음. 위의 예제와 같이 "차이가 없다, 혹은 있다"처럼 방향이 정해지지 않는 가설을 세우고 검증을 할 때는 양측 검증을 진행함.

- 이때, 주의를 해야 하는 것은 단측검증에서는 가설검정에서 유의미한 차이가 있을 수 있지만, 양측검정에서는 유의미한 차이가 없을 수도 있다. 

  - 그 이유는 계산되어지는 검정 통계량은 같지만, 단측검정인 경우 양측검증보다 기각역이 넓어지기 때문에 비교적 쉽게 귀무가설을 기각할 수 있기 때문임

  - 기각역의 기준이 되는 critical value가 양측검증이냐, 단측검증이냐에 따라서 다름 => 기각역이 조금 더 넓어짐

  - (5% 유의수준에서 양측검증 :z-critical value =1.96, 단측검증: z-critical value=1.645)  따라서 검정통계량이 1.8이 나온 경우 양측검증에서는 귀무가설을 기각하지 못하지만, 단측검증에서는 귀무가설을 기각할 수 있음.

    ![image](https://user-images.githubusercontent.com/81638919/163662907-9a2cdda8-2ba4-4702-9b35-262f98143453.png)

## 1종 오류와 2종 오류

1종 오류 : 귀무가설이 참일 때, 귀무가설을 기각하는 경우

2종 오류 : 귀무가설이 거짓일 때, 귀무가설을 기각하지 못하는 경우

|                               | Null Hypothesis is true | Null Hypothesis is false |
| ----------------------------- | ----------------------- | ------------------------ |
| Reject Null Hypothesis        | Type 1 Error            | Correct Decision         |
| Do not reject Null Hypothesis | correct decision        | Type 2 Error             |

가설검증에 관한 포스트를 작성할 때, 신뢰수준에 따라 기각역이 바뀌는 것을 확인할 수 있었음. 따라서 유의수준이 어떻게 결정하는가에 따라 1종 오류 또는 2종 오류가 발생할 수 있음

- 유의수준을 높인다는 것 (5%에서 10%)는 2종오류의 발생 가능성을 낮춘다는 의미 -> 기각역이 넓어져, 귀무가설을 기각할 가능성이 커짐

- 유의수준을 낮춘다는 것(5%에서 1%)는 1종오류의 발생 가능성을 낮춘다는 의미 -> 기각역이 좁아져, 귀무가설을 기각할 가능성이 적어짐

- 귀무가설을 기각함으로써 발생하는 비용이 클 경우, 연구자는 1종 오류가 발생할 가능성을 최대한 줄이고자 노력할 것이며 유의수준을 1%로 높이게 될 것임

